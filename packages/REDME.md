# Directory: packages/

## Overview

The `packages/` directory is used to store deployable artifacts generated by helper scripts. It primarily holds ZIP archives for serverless functions (e.g., GCP Cloud Functions), built from source directories like `scripts/stressload/webservers/`.

These packages are consumed post-deploy by manual CLI or CI-based workflows. They contain minimal, secure runtime environments adhering to zero-trust and zero-config principles.

## Contents

| File/Pattern | Description |
|--------------|-------------|
| `stressload-webservers.zip` | Cloud Function bundle with `main.py`, `requirements.txt`, and `config.json` |
| `*.zip` | Additional packages (future: Lambda, Azure Functions, CLI tools) |

## Packaging Logic

- Defined in `scripts/manage/package-functions.shell`
- Validates structure and confirms required files are present
- Uses Terraform outputs to generate minimal `config.json`
- Skips packaging if required inputs are unavailable

## Example

```bash
$ ./scripts/manage/package-functions.shell
[âœ”] Validated: scripts/stressload/webservers/main.py
[âœ”] Generated: packages/stressload-webservers.zip
```

## DevSecOps Value

- â›“ï¸ Immutable artifacts with verified inputs
- ğŸ“¦ All packages generated via scriptsâ€”no manual zip operations
- ğŸ§¼ Follows principle of least functionality: only whatâ€™s needed in runtime
- ğŸ”„ Zip files are deployable, traceable, and can be GPG-signed (future)

## Future Plans

- [ ] Add digest signing (SHA256/GPG) of each zip artifact
- [ ] Store build metadata (source commit, hash, timestamp) with each package
- [ ] Add support for `lambda.zip` and `azure-function.zip`
- [ ] Validate ZIPs with reproducible-build tool before deploy

---

_This README describes the purpose and contents of `packages/` as of April 1, 2025._

